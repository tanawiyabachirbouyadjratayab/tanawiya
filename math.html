<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MathVision - Ù…Ø­Ù„Ù„ Ø§Ù„Ù…Ø´ØªÙ‚Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
        }

        :root {
            --primary: #3498db;
            --primary-dark: #2980b9;
            --secondary: #2ecc71;
            --accent: #e74c3c;
            --warning: #f39c12;
            --purple: #9b59b6;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --gray: #7f8c8d;
            --border: #bdc3c7;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --gradient: linear-gradient(135deg, #3498db, #2c3e50);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header {
            background: var(--gradient);
            color: white;
            padding: 30px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="math" width="20" height="20" patternUnits="userSpaceOnUse"><path d="M20 0L0 0 0 20" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23math)"/></svg>');
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
        }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            min-height: 700px;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        /* Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠØ³Ø± */
        .left-column {
            background: var(--light);
            padding: 30px;
            border-right: 3px solid var(--border);
        }

        /* Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠÙ…Ù† */
        .right-column {
            background: white;
            padding: 30px;
            display: flex;
            flex-direction: column;
        }

        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card-title {
            color: var(--dark);
            font-size: 1.4rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 600;
            font-size: 1rem;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8f9fa;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .input-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-group .form-control {
            flex: 1;
        }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            padding: 14px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            width: 100%;
            justify-content: center;
            margin-bottom: 10px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .btn-success {
            background: var(--secondary);
            color: white;
        }

        .btn-success:hover {
            background: #27ae60;
            transform: translateY(-2px);
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }

        .btn-purple {
            background: var(--purple);
            color: white;
        }

        .btn-purple:hover {
            background: #8e44ad;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: var(--accent);
            color: white;
        }

        .btn-danger:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        /* Ø§Ù„Ø£Ù…Ø«Ù„Ø© */
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .example-btn {
            background: var(--light);
            border: 2px solid transparent;
            padding: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .example-btn:hover {
            border-color: var(--primary);
            background: white;
            transform: translateY(-2px);
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ */
        .results {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 2px dashed var(--border);
            flex: 1;
            overflow-y: auto;
            max-height: 400px;
            font-family: 'Courier New', monospace;
        }

        .result-item {
            background: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            border-right: 4px solid var(--primary);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .result-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        /* Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ */
        .chart-container {
            position: relative;
            height: 400px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid var(--border);
            margin-top: 20px;
        }

        /* Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø´ØªÙ‚Ø§Ù‚ */
        .rules-list {
            list-style: none;
            padding: 0;
        }

        .rules-list li {
            padding: 8px 0;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .rules-list li:last-child {
            border-bottom: none;
        }

        /* Ø§Ù„ÙÙˆØªØ± */
        .footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 20px;
        }

        /* Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab.active {
            border-bottom-color: var(--primary);
            color: var(--primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease;
        }

        /* Ø§Ù„ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .left-column {
                border-right: none;
                border-bottom: 3px solid var(--border);
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tab {
                text-align: center;
            }
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-bar {
            width: 100%;
            height: 4px;
            background: var(--border);
            border-radius: 2px;
            overflow: hidden;
            margin: 10px 0;
            display: none;
        }

        .progress {
            width: 0%;
            height: 100%;
            background: var(--primary);
            transition: width 0.3s ease;
        }

        /* Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            z-index: 1000;
            animation: slideInRight 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification.success {
            background: var(--secondary);
        }

        .notification.error {
            background: var(--accent);
        }

        .notification.warning {
            background: var(--warning);
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
        <header class="header">
            <h1>ğŸ§® MathVision - Ù…Ø­Ù„Ù„ Ø§Ù„Ù…Ø´ØªÙ‚Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
            <p>Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´ØªÙ‚Ø§Øª - Ø¯Ø±Ø§Ø³Ø© Ø§Ù„Ø¯ÙˆØ§Ù„ - ØªÙ…Ø«ÙŠÙ„ Ø¨ÙŠØ§Ù†ÙŠ Ù…ØªÙƒØ§Ù…Ù„</p>
        </header>

        <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
        <div class="main-content">
            <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠØ³Ø± -->
            <div class="left-column">
                <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
                <div class="card fade-in">
                    <h2 class="card-title">ğŸ“ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h2>
                    
                    <div class="form-group">
                        <label for="functionInput">Ø§Ù„Ø¯Ø§Ù„Ø© f(x):</label>
                        <input type="text" id="functionInput" class="form-control" 
                               placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¯Ø§Ù„Ø© (Ù…Ø«Ø§Ù„: x^2 + sin(x))" value="x^2">
                    </div>

                    <div class="form-group">
                        <label for="domainStart">Ù…Ø¬Ø§Ù„ Ø§Ù„ØªØ¹Ø±ÙŠÙ:</label>
                        <div class="input-group">
                            <input type="number" id="domainStart" class="form-control" value="-5" step="0.1">
                            <span>Ø¥Ù„Ù‰</span>
                            <input type="number" id="domainEnd" class="form-control" value="5" step="0.1">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="pointInput">Ø§Ù„Ù†Ù‚Ø·Ø© xâ‚€:</label>
                        <input type="number" id="pointInput" class="form-control" value="2" step="0.1">
                    </div>

                    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
                    <div class="progress-bar" id="progressBar">
                        <div class="progress" id="progress"></div>
                    </div>

                    <!-- Ø£Ø²Ø±Ø§Ø± Ø§Ù„ÙˆØ¸Ø§Ø¦Ù -->
                    <button class="btn btn-primary" onclick="calculateDerivativeAtPoint()">
                        ğŸ” Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø¹Ù†Ø¯ Ù†Ù‚Ø·Ø©
                    </button>
                    <button class="btn btn-success" onclick="calculateDerivativeFunction()">
                        ğŸ“ Ø§Ø´ØªÙ‚Ø§Ù‚ Ø§Ù„Ø¯Ø§Ù„Ø©
                    </button>
                    <button class="btn btn-warning" onclick="studyFunctionBehavior()">
                        ğŸ“ˆ Ø¯Ø±Ø§Ø³Ø© Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØªØºÙŠØ±
                    </button>
                    <button class="btn btn-purple" onclick="boundFunction()">
                        ğŸ“Š Ø­ØµØ± Ø§Ù„Ø¯Ø§Ù„Ø©
                    </button>
                    <button class="btn btn-danger" onclick="plotGraph()">
                        ğŸ¨ ØªÙ…Ø«ÙŠÙ„ Ø¨ÙŠØ§Ù†ÙŠ
                    </button>
                </div>

                <!-- Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø£Ù…Ø«Ù„Ø© -->
                <div class="card fade-in" style="animation-delay: 0.2s;">
                    <h2 class="card-title">ğŸ“š Ø£Ù…Ø«Ù„Ø© Ø¯ÙˆØ§Ù„</h2>
                    <div class="examples-grid">
                        <div class="example-btn" onclick="loadExample('x^2')">xÂ²</div>
                        <div class="example-btn" onclick="loadExample('x^3')">xÂ³</div>
                        <div class="example-btn" onclick="loadExample('sin(x)')">sin(x)</div>
                        <div class="example-btn" onclick="loadExample('cos(x)')">cos(x)</div>
                        <div class="example-btn" onclick="loadExample('exp(x)')">eË£</div>
                        <div class="example-btn" onclick="loadExample('ln(x)')">ln(x)</div>
                        <div class="example-btn" onclick="loadExample('x^2 + sin(x)')">xÂ²+sin(x)</div>
                        <div class="example-btn" onclick="loadExample('x^3 - 3*x')">xÂ³-3x</div>
                        <div class="example-btn" onclick="loadExample('sin(x)*cos(x)')">sin(x)cos(x)</div>
                        <div class="example-btn" onclick="loadExample('1/x')">1/x</div>
                        <div class="example-btn" onclick="loadExample('sqrt(x)')">âˆšx</div>
                        <div class="example-btn" onclick="loadExample('tan(x)')">tan(x)</div>
                    </div>
                </div>

                <!-- Ø¨Ø·Ø§Ù‚Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø´ØªÙ‚Ø§Ù‚ -->
                <div class="card fade-in" style="animation-delay: 0.4s;">
                    <h2 class="card-title">ğŸ“– Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø§Ø´ØªÙ‚Ø§Ù‚</h2>
                    <ul class="rules-list">
                        <li>ğŸ“ <strong>Ø§Ù„Ù‚ÙˆØ©:</strong> (xâ¿)' = nÂ·xâ¿â»Â¹</li>
                        <li>â• <strong>Ø§Ù„Ø¬Ù…Ø¹:</strong> (u+v)' = u' + v'</li>
                        <li>â– <strong>Ø§Ù„Ø·Ø±Ø­:</strong> (u-v)' = u' - v'</li>
                        <li>âœ–ï¸ <strong>Ø§Ù„Ø¶Ø±Ø¨:</strong> (uÂ·v)' = u'v + uv'</li>
                        <li>â— <strong>Ø§Ù„Ù‚Ø³Ù…Ø©:</strong> (u/v)' = (u'v - uv')/vÂ²</li>
                        <li>ğŸ”„ <strong>Ø§Ù„Ø³Ù„Ø³Ù„Ø©:</strong> (f(g(x)))' = f'(g(x))Â·g'(x)</li>
                        <li>ğŸ“ <strong>sin(x):</strong> (sin(x))' = cos(x)</li>
                        <li>ğŸ“ <strong>cos(x):</strong> (cos(x))' = -sin(x)</li>
                        <li>ğŸ“ˆ <strong>tan(x):</strong> (tan(x))' = 1/cosÂ²(x)</li>
                        <li>âš¡ <strong>eË£:</strong> (eË£)' = eË£</li>
                        <li>ğŸ“Š <strong>ln(x):</strong> (ln(x))' = 1/x</li>
                    </ul>
                </div>
            </div>

            <!-- Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙŠÙ…Ù† -->
            <div class="right-column">
                <!-- Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª -->
                <div class="tabs">
                    <div class="tab active" onclick="switchTab('results')">ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬</div>
                    <div class="tab" onclick="switchTab('graph')">ğŸ“ˆ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ</div>
                </div>

                <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
                <div id="resultsTab" class="tab-content active">
                    <div class="card">
                        <h2 class="card-title">ğŸ“‹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„</h2>
                        <div class="results" id="results">
                            <div class="result-item">
                                <div class="result-title">ğŸ‘‹ Ù…Ø±Ø­Ø¨Ø§Ù‹ ÙÙŠ MathVision!</div>
                                <div>Ø£Ø¯Ø®Ù„ Ø¯Ø§Ù„Ø© Ø±ÙŠØ§Ø¶ÙŠØ© ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£Ø­Ø¯ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù„Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„.</div>
                                <div>ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø³Ø±ÙŠØ¹Ø© Ø£Ùˆ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø§Ù„Ø© Ù…Ø®ØµØµØ©.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ -->
                <div id="graphTab" class="tab-content">
                    <div class="card">
                        <h2 class="card-title">ğŸ¨ Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø¹Ù„Ù‰ Ù…Ø¹Ù„Ù… Ù…ØªØ¹Ø§Ù…Ø¯ Ù…ØªØ¬Ø§Ù†Ø³</h2>
                        <div class="chart-container">
                            <canvas id="functionChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ø§Ù„ÙÙˆØªØ± -->
        <footer class="footer">
            <p>ğŸš€ MathVision - ØªØ·Ø¨ÙŠÙ‚ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¯ÙˆØ§Ù„ ÙˆØ§Ù„Ù…Ø´ØªÙ‚Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</p>
            <p>ğŸ“§ Ù„Ù„Ø¥Ø³ØªÙØ³Ø§Ø±Ø§Øª: mathvision@derivative.com</p>
        </footer>
    </div>

    <!-- Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <script>
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
        const ctx = document.getElementById('functionChart').getContext('2d');
        let functionChart = null;

        // Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©
        class MathFunctionEngine {
            constructor() {
                this.parser = math.parser();
            }

            evaluate(expression, x) {
                try {
                    // ØªÙ†Ø¸ÙŠÙ Ø§Ù„ØªØ¹Ø¨ÙŠØ±
                    let cleanExpr = expression.toLowerCase().replace(/ /g, '');
                    
                    // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø±Ù…ÙˆØ²
                    cleanExpr = cleanExpr.replace(/Â²/g, '^2');
                    cleanExpr = cleanExpr.replace(/Â³/g, '^3');
                    
                    // ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…ØªØºÙŠØ± x
                    this.parser.evaluate('x = ' + x);
                    
                    // ØªÙ‚ÙŠÙŠÙ… Ø§Ù„ØªØ¹Ø¨ÙŠØ±
                    const result = this.parser.evaluate(cleanExpr);
                    return result;
                } catch (error) {
                    throw new Error('Ø®Ø·Ø£ ÙÙŠ ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¯Ø§Ù„Ø©: ' + error.message);
                }
            }

            derivativeAt(expression, x) {
                const h = 1e-8;
                try {
                    const f1 = this.evaluate(expression, x + h);
                    const f2 = this.evaluate(expression, x - h);
                    return (f1 - f2) / (2 * h);
                } catch (error) {
                    throw new Error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´ØªÙ‚Ø©: ' + error.message);
                }
            }

            secondDerivativeAt(expression, x) {
                const h = 1e-6;
                try {
                    const f1 = this.evaluate(expression, x + h);
                    const f0 = this.evaluate(expression, x);
                    const f2 = this.evaluate(expression, x - h);
                    return (f1 - 2 * f0 + f2) / (h * h);
                } catch (error) {
                    throw new Error('Ø®Ø·Ø£ ÙÙŠ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©: ' + error.message);
                }
            }

            getSymbolicDerivative(expression) {
                // Ù‡Ø°Ø§ ØªÙ†ÙÙŠØ° Ù…Ø¨Ø³Ø· Ù„Ù„Ù…Ø´ØªÙ‚Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©
                const rules = {
                    'x^2': '2*x',
                    'x^3': '3*x^2',
                    'x^4': '4*x^3',
                    'sin(x)': 'cos(x)',
                    'cos(x)': '-sin(x)',
                    'exp(x)': 'exp(x)',
                    'ln(x)': '1/x',
                    '1/x': '-1/x^2',
                    'sqrt(x)': '1/(2*sqrt(x))'
                };

                for (const [func, deriv] of Object.entries(rules)) {
                    if (expression === func) {
                        return deriv;
                    }
                }

                return 'Ù…Ø´ØªÙ‚Ø© Ø±Ù‚Ù…ÙŠØ©';
            }
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø¯ÙˆØ§Ù„
        const mathEngine = new MathFunctionEngine();

        // ğŸ” Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø¹Ù†Ø¯ Ù†Ù‚Ø·Ø©
        async function calculateDerivativeAtPoint() {
            showProgress();
            
            try {
                const functionStr = document.getElementById('functionInput').value;
                const x0 = parseFloat(document.getElementById('pointInput').value);
                
                if (!functionStr) {
                    throw new Error('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø§Ù„Ø©');
                }

                updateProgress(30);
                const functionValue = mathEngine.evaluate(functionStr, x0);
                
                updateProgress(60);
                const derivative = mathEngine.derivativeAt(functionStr, x0);
                const symbolicDeriv = mathEngine.getSymbolicDerivative(functionStr);
                
                updateProgress(90);
                let behavior = '';
                if (Math.abs(derivative) < 1e-10) {
                    behavior = 'Ø«Ø§Ø¨ØªØ© (Ù†Ù‚Ø·Ø© Ø­Ø±Ø¬Ø©)';
                } else if (derivative > 0) {
                    behavior = 'ØªØ²Ø§ÙŠØ¯ÙŠØ©';
                } else {
                    behavior = 'ØªÙ†Ø§Ù‚ØµÙŠØ©';
                }

                const result = `
                    <div class="result-item">
                        <div class="result-title">ğŸ¯ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø¹Ù†Ø¯ Ù†Ù‚Ø·Ø©</div>
                        <div><strong>Ø§Ù„Ø¯Ø§Ù„Ø©:</strong> f(x) = ${functionStr}</div>
                        <div><strong>Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©:</strong> f'(x) = ${symbolicDeriv}</div>
                        <div><strong>Ø§Ù„Ù†Ù‚Ø·Ø©:</strong> xâ‚€ = ${x0}</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">ğŸ“Š Ø§Ù„Ù†ØªØ§Ø¦Ø¬</div>
                        <div><strong>Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¯Ø§Ù„Ø©:</strong> f(${x0}) = ${functionValue.toFixed(6)}</div>
                        <div><strong>Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©:</strong> f'(${x0}) = ${derivative.toFixed(6)}</div>
                        <div><strong>Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØªØºÙŠØ±:</strong> ${behavior}</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">ğŸ’¡ ØªÙØ³ÙŠØ±</div>
                        <div>Ù…ÙŠÙ„ Ø§Ù„Ù…Ù…Ø§Ø³ Ù„Ù„Ø¯Ø§Ù„Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø·Ø© x = ${x0} Ù‡Ùˆ ${derivative.toFixed(6)}</div>
                        <div>Ø§Ù„Ø§ØªØ¬Ø§Ù‡: ${behavior}</div>
                    </div>
                `;

                document.getElementById('results').innerHTML = result;
                showNotification('âœ… ØªÙ… Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
                
            } catch (error) {
                showNotification('âŒ ' + error.message, 'error');
            } finally {
                hideProgress();
            }
        }

        // ğŸ“ Ø§Ø´ØªÙ‚Ø§Ù‚ Ø§Ù„Ø¯Ø§Ù„Ø©
        async function calculateDerivativeFunction() {
            showProgress();
            
            try {
                const functionStr = document.getElementById('functionInput').value;
                const start = parseFloat(document.getElementById('domainStart').value);
                const end = parseFloat(document.getElementById('domainEnd').value);
                
                if (!functionStr) {
                    throw new Error('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø§Ù„Ø©');
                }

                const symbolicDeriv = mathEngine.getSymbolicDerivative(functionStr);
                
                let resultHTML = `
                    <div class="result-item">
                        <div class="result-title">ğŸ“ Ø§Ø´ØªÙ‚Ø§Ù‚ Ø§Ù„Ø¯Ø§Ù„Ø©</div>
                        <div><strong>Ø§Ù„Ø¯Ø§Ù„Ø©:</strong> f(x) = ${functionStr}</div>
                        <div><strong>Ø§Ù„Ù…Ø´ØªÙ‚Ø© Ø§Ù„Ø±Ù…Ø²ÙŠØ©:</strong> f'(x) = ${symbolicDeriv}</div>
                        <div><strong>Ø§Ù„Ù…Ø¬Ø§Ù„:</strong> [${start}, ${end}]</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">ğŸ“ˆ Ù‚ÙŠÙ… Ø§Ù„Ù…Ø´ØªÙ‚Ø©</div>
                `;

                const samples = 8;
                const step = (end - start) / samples;
                
                for (let i = 0; i <= samples; i++) {
                    updateProgress(30 + (i / samples) * 60);
                    const x = start + i * step;
                    const derivative = mathEngine.derivativeAt(functionStr, x);
                    resultHTML += `<div><strong>f'(${x.toFixed(2)})</strong> = ${derivative.toFixed(4)}</div>`;
                    
                    // ØªØ£Ø®ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¯Ø±Ø¬
                    await new Promise(resolve => setTimeout(resolve, 100));
                }

                resultHTML += `</div>`;
                document.getElementById('results').innerHTML = resultHTML;
                showNotification('âœ… ØªÙ… Ø§Ø´ØªÙ‚Ø§Ù‚ Ø§Ù„Ø¯Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
                
            } catch (error) {
                showNotification('âŒ ' + error.message, 'error');
            } finally {
                hideProgress();
            }
        }

        // ğŸ“ˆ Ø¯Ø±Ø§Ø³Ø© Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØªØºÙŠØ±
        async function studyFunctionBehavior() {
            showProgress();
            
            try {
                const functionStr = document.getElementById('functionInput').value;
                const start = parseFloat(document.getElementById('domainStart').value);
                const end = parseFloat(document.getElementById('domainEnd').value);
                
                if (!functionStr) {
                    throw new Error('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø§Ù„Ø©');
                }

                let resultHTML = `
                    <div class="result-item">
                        <div class="result-title">ğŸ“ˆ Ø¯Ø±Ø§Ø³Ø© Ø§ØªØ¬Ø§Ù‡ ØªØºÙŠØ± Ø§Ù„Ø¯Ø§Ù„Ø©</div>
                        <div><strong>Ø§Ù„Ø¯Ø§Ù„Ø©:</strong> f(x) = ${functionStr}</div>
                        <div><strong>Ø§Ù„Ù…Ø´ØªÙ‚Ø©:</strong> f'(x) = ${mathEngine.getSymbolicDerivative(functionStr)}</div>
                        <div><strong>Ø§Ù„Ù…Ø¬Ø§Ù„:</strong> [${start}, ${end}]</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">ğŸ” Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</div>
                `;

                const intervals = 10;
                const step = (end - start) / intervals;
                const criticalPoints = [];
                
                for (let i = 0; i <= intervals; i++) {
                    updateProgress(30 + (i / intervals) * 60);
                    const x = start + i * step;
                    const derivative = mathEngine.derivativeAt(functionStr, x);
                    
                    let behavior = '';
                    if (Math.abs(derivative) < 1e-8) {
                        behavior = 'ğŸ“Œ Ù†Ù‚Ø·Ø© Ø­Ø±Ø¬Ø©';
                        criticalPoints.push(x);
                    } else if (derivative > 0) {
                        behavior = 'ğŸ“ˆ ØªØ²Ø§ÙŠØ¯ÙŠØ©';
                    } else {
                        behavior = 'ğŸ“‰ ØªÙ†Ø§Ù‚ØµÙŠØ©';
                    }
                    
                    resultHTML += `<div><strong>x = ${x.toFixed(2)}:</strong> f'(x) = ${derivative.toFixed(4)} â†’ ${behavior}</div>`;
                    await new Promise(resolve => setTimeout(resolve, 150));
                }

                resultHTML += `</div>`;

                if (criticalPoints.length > 0) {
                    resultHTML += `
                        <div class="result-item">
                            <div class="result-title">ğŸ¯ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø­Ø±Ø¬Ø©</div>
                    `;
                    
                    for (const point of criticalPoints) {
                        const secondDeriv = mathEngine.secondDerivativeAt(functionStr, point);
                        let pointType = '';
                        if (secondDeriv > 0) {
                            pointType = 'ğŸ“ ØµØºØ±Ù‰ Ù…Ø­Ù„ÙŠØ©';
                        } else if (secondDeriv < 0) {
                            pointType = 'ğŸ”ï¸ Ø¹Ø¸Ù…Ù‰ Ù…Ø­Ù„ÙŠØ©';
                        } else {
                            pointType = 'ğŸ”„ Ù†Ù‚Ø·Ø© Ø§Ù†Ù‚Ù„Ø§Ø¨';
                        }
                        resultHTML += `<div><strong>x = ${point.toFixed(3)}:</strong> ${pointType} (f'' = ${secondDeriv.toFixed(3)})</div>`;
                    }
                    
                    resultHTML += `</div>`;
                }

                document.getElementById('results').innerHTML = resultHTML;
                showNotification('âœ… ØªÙ… Ø¯Ø±Ø§Ø³Ø© Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØªØºÙŠØ± Ø¨Ù†Ø¬Ø§Ø­', 'success');
                
            } catch (error) {
                showNotification('âŒ ' + error.message, 'error');
            } finally {
                hideProgress();
            }
        }

        // ğŸ“Š Ø­ØµØ± Ø§Ù„Ø¯Ø§Ù„Ø©
        async function boundFunction() {
            showProgress();
            
            try {
                const functionStr = document.getElementById('functionInput').value;
                const start = parseFloat(document.getElementById('domainStart').value);
                const end = parseFloat(document.getElementById('domainEnd').value);
                
                if (!functionStr) {
                    throw new Error('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø§Ù„Ø©');
                }

                let minVal = Infinity;
                let maxVal = -Infinity;
                let minX = start, maxX = start;
                
                const samples = 50;
                const step = (end - start) / samples;
                
                for (let i = 0; i <= samples; i++) {
                    updateProgress(30 + (i / samples) * 60);
                    const x = start + i * step;
                    const y = mathEngine.evaluate(functionStr, x);
                    
                    if (y < minVal) {
                        minVal = y;
                        minX = x;
                    }
                    if (y > maxVal) {
                        maxVal = y;
                        maxX = x;
                    }
                    
                    await new Promise(resolve => setTimeout(resolve, 50));
                }

                const result = `
                    <div class="result-item">
                        <div class="result-title">ğŸ“Š Ø­ØµØ± Ø§Ù„Ø¯Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¬Ø§Ù„</div>
                        <div><strong>Ø§Ù„Ø¯Ø§Ù„Ø©:</strong> f(x) = ${functionStr}</div>
                        <div><strong>Ø§Ù„Ù…Ø¬Ø§Ù„:</strong> [${start}, ${end}]</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">ğŸ¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</div>
                        <div><strong>Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„ØµØºØ±Ù‰:</strong> f(${minX.toFixed(4)}) = ${minVal.toFixed(4)}</div>
                        <div><strong>Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¹Ø¸Ù…Ù‰:</strong> f(${maxX.toFixed(4)}) = ${maxVal.toFixed(4)}</div>
                        <div><strong>Ù…Ø¯Ù‰ Ø§Ù„Ø¯Ø§Ù„Ø©:</strong> [${minVal.toFixed(4)}, ${maxVal.toFixed(4)}]</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">ğŸ“ Ø§Ù„ØªØ­Ù„ÙŠÙ„</div>
                        <div>Ø§Ù„Ø¯Ø§Ù„Ø© Ù…Ø­Ø¯ÙˆØ¯Ø© Ø¨ÙŠÙ† ${minVal.toFixed(4)} Ùˆ ${maxVal.toFixed(4)}</div>
                        <div>Ù…Ø¬Ø§Ù„ Ø§Ù„Ù‚ÙŠÙ…: [${minVal.toFixed(4)}, ${maxVal.toFixed(4)}]</div>
                    </div>
                `;

                document.getElementById('results').innerHTML = result;
                showNotification('âœ… ØªÙ… Ø­ØµØ± Ø§Ù„Ø¯Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
                
            } catch (error) {
                showNotification('âŒ ' + error.message, 'error');
            } finally {
                hideProgress();
            }
        }

        // ğŸ¨ ØªÙ…Ø«ÙŠÙ„ Ø¨ÙŠØ§Ù†ÙŠ
        async function plotGraph() {
            showProgress();
            
            try {
                const functionStr = document.getElementById('functionInput').value;
                const start = parseFloat(document.getElementById('domainStart').value);
                const end = parseFloat(document.getElementById('domainEnd').value);
                
                if (!functionStr) {
                    throw new Error('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¯Ø§Ù„Ø©');
                }

                // ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
                switchTab('graph');

                // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                const points = 100;
                const step = (end - start) / points;
                
                const labels = [];
                const functionData = [];
                const derivativeData = [];
                
                for (let i = 0; i <= points; i++) {
                    updateProgress(30 + (i / points) * 60);
                    const x = start + i * step;
                    
                    try {
                        const y = mathEngine.evaluate(functionStr, x);
                        const dy = mathEngine.derivativeAt(functionStr, x);
                        
                        labels.push(x.toFixed(2));
                        functionData.push(y);
                        derivativeData.push(dy);
                    } catch (e) {
                        // ØªØ¬Ø§Ù‡Ù„ Ø§Ù„Ù†Ù‚Ø§Ø· ØºÙŠØ± Ø§Ù„Ù…Ø¹Ø±ÙØ©
                    }
                    
                    await new Promise(resolve => setTimeout(resolve, 10));
                }

                // ØªØ¯Ù…ÙŠØ± Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
                if (functionChart) {
                    functionChart.destroy();
                }

                // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯
                functionChart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'f(x) - Ø§Ù„Ø¯Ø§Ù„Ø©',
                            data: functionData,
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            borderWidth: 3,
                            tension: 0.4,
                            fill: true
                        }, {
                            label: 'f\'(x) - Ø§Ù„Ù…Ø´ØªÙ‚Ø©',
                            data: derivativeData,
                            borderColor: '#e74c3c',
                            backgroundColor: 'rgba(231, 76, 60, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                title: {
                                    display: true,
                                    text: 'Ø§Ù„Ù…Ø­ÙˆØ± X - Ø§Ù„ÙÙˆØ§ØµÙ„',
                                    font: {
                                        size: 14,
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                }
                            },
                            y: {
                                title: {
                                    display: true,
                                    text: 'Ø§Ù„Ù…Ø­ÙˆØ± Y - Ø§Ù„ØªØ±ØªÙŠØ¨',
                                    font: {
                                        size: 14,
                                        weight: 'bold'
                                    }
                                },
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.1)'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top',
                                labels: {
                                    font: {
                                        size: 12
                                    }
                                }
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false
                            }
                        }
                    }
                });

                // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙÙŠ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ø¢Ø®Ø±
                document.getElementById('results').innerHTML = `
                    <div class="result-item">
                        <div class="result-title">âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ</div>
                        <div><strong>Ø§Ù„Ø¯Ø§Ù„Ø©:</strong> f(x) = ${functionStr}</div>
                        <div><strong>Ø§Ù„Ù…Ø´ØªÙ‚Ø©:</strong> f'(x) = ${mathEngine.getSymbolicDerivative(functionStr)}</div>
                        <div><strong>Ø§Ù„Ù…Ø¬Ø§Ù„:</strong> [${start}, ${end}]</div>
                        <div><strong>Ø§Ù„Ù†Ù‚Ø§Ø·:</strong> ${points} Ù†Ù‚Ø·Ø©</div>
                    </div>
                    <div class="result-item">
                        <div class="result-title">ğŸ¨ Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø³Ù…</div>
                        <div>â€¢ Ø§Ù„Ø®Ø· Ø§Ù„Ø£Ø²Ø±Ù‚: Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© f(x)</div>
                        <div>â€¢ Ø§Ù„Ø®Ø· Ø§Ù„Ø£Ø­Ù…Ø±: Ø§Ù„Ù…Ø´ØªÙ‚Ø© f'(x)</div>
                        <div>â€¢ Ù…Ø¹Ù„Ù… Ù…ØªØ¹Ø§Ù…Ø¯ Ù…ØªØ¬Ø§Ù†Ø³ Ù…Ø¹ Ù…Ø­ÙˆØ±ÙŠÙ†</div>
                        <div>â€¢ Ø§ØªØ¬Ø§Ù‡Ø§Øª Ù…ÙˆØ¬Ø¨Ø© ÙˆØ³Ø§Ù„Ø¨Ø© ÙˆØ§Ø¶Ø­Ø©</div>
                    </div>
                `;

                showNotification('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ Ø¨Ù†Ø¬Ø§Ø­', 'success');
                
            } catch (error) {
                showNotification('âŒ ' + error.message, 'error');
            } finally {
                hideProgress();
            }
        }

        // ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø©
        function loadExample(example) {
            document.getElementById('functionInput').value = example;
            showNotification(`ğŸ“š ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„: ${example}`, 'success');
        }

        function switchTab(tabName) {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Ø¥Ù„ØºØ§Ø¡ ØªÙ†Ø´ÙŠØ· Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(tabName + 'Tab').classList.add('active');
            event.target.classList.add('active');
        }

        function showProgress() {
            document.getElementById('progressBar').style.display = 'block';
            updateProgress(0);
        }

        function updateProgress(percent) {
            document.getElementById('progress').style.width = percent + '%';
        }

        function hideProgress() {
            setTimeout(() => {
                document.getElementById('progressBar').style.display = 'none';
                updateProgress(0);
            }, 500);
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 4000);
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            showNotification('ğŸš€ MathVision Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…!', 'success');
        });
    </script>
</body>
</html>
